<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-for-devs/console/services">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-KKV4ZVDEKQ"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-KKV4ZVDEKQ",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Otomi" href="/opensearch.xml"><title data-rh="true">Team Services | Otomi</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://otomi.io/img/otomi-logo.svg"><meta data-rh="true" name="twitter:image" content="https://otomi.io/img/otomi-logo.svg"><meta data-rh="true" property="og:url" content="https://otomi.io/docs/for-devs/console/services"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Team Services | Otomi"><meta data-rh="true" name="description" content="A service in Otomi is a self-service feature for:"><meta data-rh="true" property="og:description" content="A service in Otomi is a self-service feature for:"><link data-rh="true" rel="icon" href="/img/otomi.ico"><link data-rh="true" rel="canonical" href="https://otomi.io/docs/for-devs/console/services"><link data-rh="true" rel="alternate" href="https://otomi.io/docs/for-devs/console/services" hreflang="en"><link data-rh="true" rel="alternate" href="https://otomi.io/docs/for-devs/console/services" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://U3MTGFO19C-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.2eb90763.css">
<link rel="preload" href="/assets/js/runtime~main.21c4c7c5.js" as="script">
<link rel="preload" href="/assets/js/main.a357076f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#0d47a1;color:#ffd700" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="announcementBarContent_xLdY">If you like Otomi, give it a ⭐️ on <a target="_blank" rel="noopener noreferrer" href="https://github.com/redkubes/otomi-core">GitHub</a>!</div><button type="button" class="clean-btn close announcementBarClose_gvF7" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/"><div class="navbar__logo"><img src="/img/otomi-logo.svg" alt="Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/otomi-logo.svg" alt="Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a class="navbar__item navbar__link" href="/about/">About</a><a class="navbar__item navbar__link" href="/docs/installation/get-started">Docs</a><a class="navbar__item navbar__link" href="/docs/faq">FAQ</a><a class="navbar__item navbar__link" href="/community/get-involved">Community</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/redkubes/otomi-core" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/installation/get-started">Installation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/for-ops/console/overview">For Ops</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/for-devs/console/apps">For Devs</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/for-devs/console/apps">Otomi Console</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/for-devs/console/apps">Apps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/for-devs/console/shortcuts">Shortcuts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/for-devs/console/services">Services</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/for-devs/console/jobs">Jobs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/for-devs/console/secrets">Secrets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/for-devs/console/settings">Settings</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/for-ciso/overview">For CISOs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/apps/alertmanager">Otomi Apps</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="docItemContainer_Adtb"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Team Services</h1></header><p>A service in Otomi is a self-service feature for:</p><ul><li>Exposing pre-deployed K8s (clusterIP) and Knative services with a public URL. Otomi will automatically create and configure all ingress resources needed, including Istio Virtual Services and Gateways, certificates, DNS records and Oauth2 proxy for Single Sign On</li><li>Configure ingress and ingress network policies for pre-deployed K8s and Knative services</li><li>Easy creation of new Knative services</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-service">Create a Service<a class="hash-link" href="#create-a-service" title="Direct link to heading">​</a></h2><ol><li>Enter a name for the service. The name will be used to generate hostname if <code>Use suggested domain</code> is chosen (see below). When configuring ingress for an existing (pre-deployed) service, make sure the name provided here matches the name of the Knative or Kubernetes service (default).</li><li>Enter the port number of the service.</li></ol><p>After providing a name and a port number, you can now configure ingress for the existing Kubernetes service and optionally select a different service type.</p><p>If the defaults (cluster/private) apply, you can now click &#x27;Submit&#x27;.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="choosing-the-service-type">Choosing the Service Type<a class="hash-link" href="#choosing-the-service-type" title="Direct link to heading">​</a></h2><p>The Service type is the type of service to deploy/expose. </p><p>Three options are supported:</p><ul><li><a href="#existing-kubernetes-service">1. Existing Kubernetes Service</a></li><li><a href="#existing-knative-service">2. Existing Knative service</a></li><li><a href="#new-knative-service">3. New Knative Service</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="existing-kubernetes-service">Existing Kubernetes Service<a class="hash-link" href="#existing-kubernetes-service" title="Direct link to heading">​</a></h3><p>When selecting this option, Otomi expects a pre-deployed Kubernetes service by the <a href="#name">name</a> and <a href="#port">port</a> given.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="existing-knative-service">Existing Knative Service<a class="hash-link" href="#existing-knative-service" title="Direct link to heading">​</a></h3><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The Using existing Knative services option will only be available when Knative is active.</p></div></div><p>When selecting this option, Otomi expects a pre-deployed Knative service by the <a href="#name">name</a> and <a href="#port">port</a> given. This option will do an internal rewrite of the public url to the existing knative url.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-knative-service">New Knative service<a class="hash-link" href="#new-knative-service" title="Direct link to heading">​</a></h3><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The Creating a new Knative service option will only be available when Knative is active.</p></div></div><p>Select this option to deploy a new knative service using Otomi. In this case, Otomi will generate a knative service manifest and deploy it for you.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="pod-annotations">Pod annotations<a class="hash-link" href="#pod-annotations" title="Direct link to heading">​</a></h4><p>Kubernetes annotations with arbitrary metadata.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="container-image">Container image<a class="hash-link" href="#container-image" title="Direct link to heading">​</a></h4><table><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>Repository</td><td>The full repository url of the image (i.e. <code>otomi/console</code>)</td></tr><tr><td>Tag</td><td>The image tag (i.e. <code>latest</code>)</td></tr><tr><td>PullPolicy</td><td>The selected pullpolicy (i.e. <code>IfNotPresent</code> or <code>Always</code>)</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="container-resources">Container resources<a class="hash-link" href="#container-resources" title="Direct link to heading">​</a></h4><p>Please refer to <a href="https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/" target="_blank" rel="noopener noreferrer">the kubernetes documentation</a> for in depth information on how to determine the values your workload needs.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="requests">Requests<a class="hash-link" href="#requests" title="Direct link to heading">​</a></h5><table><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>cpu</td><td>The guaranteed amount of CPU</td></tr><tr><td>memory</td><td>the guaranteed amount of RAM</td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_LWe7" id="limits">Limits<a class="hash-link" href="#limits" title="Direct link to heading">​</a></h5><table><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>cpu</td><td>The maximum amount of CPU</td></tr><tr><td>memory</td><td>the maximum amount of RAM</td></tr></tbody></table><p>NOTE: Limits are not guaranteed. If you need guaranteed resources, set higher <a href="#requests">requests</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="environment-variables">Environment variables<a class="hash-link" href="#environment-variables" title="Direct link to heading">​</a></h4><p>Provide all the needed environment variables that are needed for your container to run.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="secrets">Secrets<a class="hash-link" href="#secrets" title="Direct link to heading">​</a></h4><p>Secrets that have been created with the console can be referenced here by name. All props from the secret will be injected as env var.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="secret-mounts">Secret mounts<a class="hash-link" href="#secret-mounts" title="Direct link to heading">​</a></h4><p>Secrets that have been created with the console can be mounted on a path. All props from the secret will be added as file on the path.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="files">Files<a class="hash-link" href="#files" title="Direct link to heading">​</a></h4><p>Files registered here as path &gt; content pairs will be mounted in the container.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="command">Command<a class="hash-link" href="#command" title="Direct link to heading">​</a></h4><p>Override the entrypoint/command of the container.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="command-arguments">Command Arguments<a class="hash-link" href="#command-arguments" title="Direct link to heading">​</a></h4><p>Override the arguments given to the entrypoint/command of the container.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="container-port">Container Port<a class="hash-link" href="#container-port" title="Direct link to heading">​</a></h4><p>Container port the knative pod will connect with. Leaving this empty will let knative infer the port from the container, which usually works, but might be problematic when the container does not specifically expose a port (As is the case with nginx derived images!). Default is set to 80.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="scale-to-zero">Scale to zero<a class="hash-link" href="#scale-to-zero" title="Direct link to heading">​</a></h4><p>Will bring down service if not accessed for 60 seconds. Will also disable probes that check to see if the service is up.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-exposure-ingress">Configuring exposure (ingress)<a class="hash-link" href="#configuring-exposure-ingress" title="Direct link to heading">​</a></h2><p>Exposure controls wether internet exposure should be enabled or not. Three options exist:</p><ul><li><code>Cluster</code>: has no internet exposure, and is only accessible in the cluster</li><li><code>Ingress</code>: choose the ingress class where to expose the service (can be public or private)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cluster">Cluster<a class="hash-link" href="#cluster" title="Direct link to heading">​</a></h3><p>If backend is a Knative service, this will expose a Knative service on a local Istio gateway, so other services can access it at their <code>$svc.$namespace</code> host name.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Notes</h5></div><div class="admonition-content"><p>Coming soon: the ability to choose endpoints to connect to, so network policies are automatically generated.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ingress">Ingress<a class="hash-link" href="#ingress" title="Direct link to heading">​</a></h3><p>Use Ingress to expose a service with a domain name and a certificate on a private or public network (based on the selected ingress)</p><p>A public URL will have a hostname that consists of <code>$HOST_NAME.$DNS_ZONE</code>. Options are described below.</p><table><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>Ingress class name</td><td>The ingress class to assing this service to.</td></tr><tr><td>TLS passthrough</td><td>Pass through the request as is to the backing service.</td></tr><tr><td>Use suggested domain</td><td>The suggested domain is the team domain for which a wildcard certificate already exists. Has the team name in it.</td></tr><tr><td>Host</td><td>Choose a hostname that will be the prefix of the domain.</td></tr><tr><td>Forward path</td><td>Do not &quot;terminate&quot; the path but instead pass it to the receiving service.</td></tr><tr><td>DNS Zone</td><td>Choose a dns zone that will be the suffix of the domain.</td></tr><tr><td>Authenticate with Single Sign On</td><td>Forwards any unauthenticated traffic to the Keycloak login page, which might forward to an external IDP.</td></tr><tr><td>Already has a certificate</td><td>Don&#x27;t generate certificates for this service.</td></tr><tr><td>&gt; Certificate ARN</td><td>[AWS only]<!-- --> Provide the certificate arn.</td></tr><tr><td>&gt; Select existing secret name</td><td>[non AWS]<!-- --> Provide a TLS secret name previously created under <code>Secrets</code>. Override to select name of secret not known here.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configure-network-policies">Configure network policies<a class="hash-link" href="#configure-network-policies" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ingress-traffic-inside-the-cluster">Ingress traffic inside the cluster<a class="hash-link" href="#ingress-traffic-inside-the-cluster" title="Direct link to heading">​</a></h3><p>When the network policies option is enabled for the team all traffic to the service (from other services within the team and from services in other teams) is set to <code>Deny all</code> by default. To allow other services to access the service, select <code>Allow traffic from selected team services</code> and specify the Team and Service name of the services that is allowed to access the service. It is also possible to allow traffic from all Team Services. In this case select <code>Allow traffic from all team services</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="external-egress-filtering">External egress filtering<a class="hash-link" href="#external-egress-filtering" title="Direct link to heading">​</a></h3><p>Traffic to external endpoints (outside of the cluster) is denied by default. To allow egress traffic to external endpoints, add the FQDN or IP address of the endpoint, the target port and the protocol used.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/redkubes/redkubes.github.io/tree/main/docs/for-devs/console/services.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_eYIM" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vbeJ"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/for-devs/console/shortcuts"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Shortcuts</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/for-devs/console/jobs"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Jobs</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#create-a-service" class="table-of-contents__link toc-highlight">Create a Service</a></li><li><a href="#choosing-the-service-type" class="table-of-contents__link toc-highlight">Choosing the Service Type</a><ul><li><a href="#existing-kubernetes-service" class="table-of-contents__link toc-highlight">Existing Kubernetes Service</a></li><li><a href="#existing-knative-service" class="table-of-contents__link toc-highlight">Existing Knative Service</a></li><li><a href="#new-knative-service" class="table-of-contents__link toc-highlight">New Knative service</a></li></ul></li><li><a href="#configuring-exposure-ingress" class="table-of-contents__link toc-highlight">Configuring exposure (ingress)</a><ul><li><a href="#cluster" class="table-of-contents__link toc-highlight">Cluster</a></li><li><a href="#ingress" class="table-of-contents__link toc-highlight">Ingress</a></li></ul></li><li><a href="#configure-network-policies" class="table-of-contents__link toc-highlight">Configure network policies</a><ul><li><a href="#ingress-traffic-inside-the-cluster" class="table-of-contents__link toc-highlight">Ingress traffic inside the cluster</a></li><li><a href="#external-egress-filtering" class="table-of-contents__link toc-highlight">External egress filtering</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Otomi</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/about/">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/installation/get-started">Installation</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/for-ops/console/overview">Using Otomi Console</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://join.slack.com/t/otomi/shared_invite/zt-1axa4vima-E~LHN36nbLR~ay5r5pGq9A" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.facebook.com/groups/otomiusers" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/community/get-involved">Community page</a></li></ul></div><div class="col footer__col"><div class="footer__title">Red Kubes</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://redkubes.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/redkubes/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/red-kubes/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/otomi-logo.svg" alt="Otomi Open Source Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/img/otomi-logo.svg" alt="Otomi Open Source Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></div><div class="footer__copyright">Copyright © 2022 Red Kubes. Built with <a href="https://v2.docusaurus.io/">Docusaurus</a></div></div></div></footer></div>
<script src="/assets/js/runtime~main.21c4c7c5.js"></script>
<script src="/assets/js/main.a357076f.js"></script>
</body>
</html>