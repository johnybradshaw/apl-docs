<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Otomi RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Otomi Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-KKV4ZVDEKQ"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-KKV4ZVDEKQ",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Otomi" href="/opensearch.xml"><title data-react-helmet="true">Post installation steps | Otomi</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="https://otomi.io/img/otomi-logo.svg"><meta data-react-helmet="true" name="twitter:image" content="https://otomi.io/img/otomi-logo.svg"><meta data-react-helmet="true" property="og:url" content="https://otomi.io/docs/installation/post-install/"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Post installation steps | Otomi"><meta data-react-helmet="true" name="description" content="After Otomi is installed, a couple of post install configuration steps are required. Follow the instructions below:"><meta data-react-helmet="true" property="og:description" content="After Otomi is installed, a couple of post install configuration steps are required. Follow the instructions below:"><link data-react-helmet="true" rel="icon" href="/img/otomi.ico"><link data-react-helmet="true" rel="canonical" href="https://otomi.io/docs/installation/post-install/"><link data-react-helmet="true" rel="alternate" href="https://otomi.io/docs/installation/post-install/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://otomi.io/docs/installation/post-install/" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.ac5a89a4.css">
<link rel="preload" href="/assets/js/runtime~main.0992c06f.js" as="script">
<link rel="preload" href="/assets/js/main.05622c4e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><div class="announcementBar_IbjG" style="background-color:#0d47a1;color:#ffd700" role="banner"><div class="announcementBarPlaceholder_NC_W"></div><div class="announcementBarContent_KsVm">If you like Otomi, give it a ‚≠êÔ∏è on <a target="_blank" rel="noopener noreferrer" href="https://github.com/redkubes/otomi-core">GitHub</a>!</div><button type="button" class="clean-btn close announcementBarClose_FG1z" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/"><div class="navbar__logo"><img src="/img/otomi-logo.svg" alt="Site Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/otomi-logo.svg" alt="Site Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div></a><a class="navbar__item navbar__link" href="/about/">About</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/installation/">Docs</a><a class="navbar__item navbar__link" href="/docs/faq">FAQ</a><a class="navbar__item navbar__link" href="/community/get-involved">Community</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/redkubes/otomi-core" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">üåú</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">üåû</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO menuWithAnnouncementBar_x19h"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" href="/docs/installation/">Installing Otomi</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/installation/">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/installation/prerequisites">Minimal requirements</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/installation/optional">Optional configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/installation/chart">Install from chart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/installation/post-install/">Post installation steps</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/console/">Otomi Console</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/apps/drone">Otomi Apps</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/cli/">Otomi CLI</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/tutorials/">Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/sre/">SRE</a></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Post installation steps</h1></header><p>After Otomi is installed, a couple of post install configuration steps are required. Follow the instructions below:</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="when-otomi-is-installed-with-minimal-values">When Otomi is installed with minimal values<a class="hash-link" href="#when-otomi-is-installed-with-minimal-values" title="Direct link to heading">‚Äã</a></h2><p>Follow these instructions when Otomi is installed without DNS (<code>otomi.hasExternalDNS=false</code>) and without a 3rd party IDP (<code>otomi.hasExternalIDP=false</code>).</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="step-1-get-the-log-output-of-the-installer-job">Step 1: Get the log output of the installer job<a class="hash-link" href="#step-1-get-the-log-output-of-the-installer-job" title="Direct link to heading">‚Äã</a></h3><p>When Otomi is installed with minimal values, passwords and public URLs (based on nip.io) are automatically generated and Keycloak is configured as an Identity Provider (IDP), in which one has to define Otomi users. The public URL of Otomi Console, the public URL of Keycloak and the admin credentials can be retrieved from the installer log. The installer job runs in the default namespace. In case the installer failed in the first run, the installer will automatically restart. Make sure to get the logs of the installer job with status <code>Completed</code>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="step-2-create-a-user-in-keycloak">Step 2: Create a user in Keycloak<a class="hash-link" href="#step-2-create-a-user-in-keycloak" title="Direct link to heading">‚Äã</a></h3><ol><li>Navigate to Keycloak app (using the URL provided in the installer log)</li><li>Click on &quot;Administration Console&quot;</li><li>Login with admin credentials (using <code>admin</code> user and password provided in the installer log or the <code>otomi.adminPassword</code> provided in the initial values)</li><li>Select the &quot;Otomi&quot; realm</li><li>Click on &quot;Users&quot; then &quot;Add user&quot;</li><li>Fill in a user name in the &quot;Username&quot; field</li><li>Fill in your email address in the &quot;Email&quot; field</li><li>Select the &quot;otomi-admin&quot; group</li><li>Click on &quot;Save&quot;</li><li>Choose the &quot;Credentials&quot; tab and then fill in a password for this user</li><li>Click on &quot;Set Password&quot;</li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="step-3-sign-in-to-the-console">Step 3: Sign in to the console<a class="hash-link" href="#step-3-sign-in-to-the-console" title="Direct link to heading">‚Äã</a></h3><p>Open the Otomi console (using the URL provided in the installer logs), and sign in with the new user.</p><p>Click <a href="/docs/console">here</a> to learn more about using Otomi Console.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="step-4-add-the-auto-generated-ca-to-your-keychain">Step 4: Add the auto generated CA to your keychain<a class="hash-link" href="#step-4-add-the-auto-generated-ca-to-your-keychain" title="Direct link to heading">‚Äã</a></h3><ol><li>In the left pane of the console, click on &quot;Download CA&quot;</li><li>Double click the downloaded CA.crt or add the CA to your keychain using the following command:</li></ol><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> security add-trusted-cert -d -r trustRoot -k /Library/Keychains/System.keychain ~/Downloads/ca.crt</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ol start="3"><li>Optional: Restart Docker (to support pushing images to Harbor)</li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="step-5-activate-drone">Step 5: Activate Drone<a class="hash-link" href="#step-5-activate-drone" title="Direct link to heading">‚Äã</a></h3><p><a href="https://www.drone.io/" target="_blank" rel="noopener noreferrer">Drone</a> is an integral part in the deployment of Otomi cluster configuration.</p><ol><li>Click on the <strong>Drone</strong> app (under Platform/Otomi Apps) in the console.</li><li>Click on <code>Continue</code> on the Welcome to Drone page</li><li>Sign in</li></ol><p>Sign in using the Gitea admin credentials (username: &quot;otomi-admin&quot;, and password: <code>$otomi.adminPassword</code> or the auto-generated password provided in the logs of the installer job).</p><ol start="4"><li>Click on <code>Authorize Application</code></li><li>Click on `Submit on the Complete your Drone Registration page. You don&#x27;t need to fill in your Email, Full Name or Company Name</li><li>Click on the <code>otomi/values</code> repository</li><li>Click on <code>+ Activate Repository</code></li><li>Click on <code>Save Changes</code></li></ol><p>Now the final step is to create a team. See the <a href="/docs/console/teams">Teams</a> page for more information.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="when-otomi-is-installed-with-optional-configuration">When Otomi is installed with optional configuration<a class="hash-link" href="#when-otomi-is-installed-with-optional-configuration" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="sign-in-to-the-console">Sign in to the console<a class="hash-link" href="#sign-in-to-the-console" title="Direct link to heading">‚Äã</a></h3><p>If Otomi is configured with <code>hasExternalIDP=true</code> and <code>oidc</code> settings have been provided for an external IDP, click on the right button (&quot;redkubes-azure&quot; in the example below).</p><p><img alt="console-login" src="/assets/images/console-login-674f187bd93d1c7535335041aa140840.png" width="3576" height="1878"></p><p>When OIDC is configured, an external IDP user needs to be a member of the &quot;otomi-admin&quot; group. Now follow the same steps as described above to activate Drone.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/redkubes/redkubes.github.io/tree/master/docs/post-install.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/installation/chart"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Install from chart</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/console/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Overview</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#when-otomi-is-installed-with-minimal-values" class="table-of-contents__link toc-highlight">When Otomi is installed with minimal values</a><ul><li><a href="#step-1-get-the-log-output-of-the-installer-job" class="table-of-contents__link toc-highlight">Step 1: Get the log output of the installer job</a></li><li><a href="#step-2-create-a-user-in-keycloak" class="table-of-contents__link toc-highlight">Step 2: Create a user in Keycloak</a></li><li><a href="#step-3-sign-in-to-the-console" class="table-of-contents__link toc-highlight">Step 3: Sign in to the console</a></li><li><a href="#step-4-add-the-auto-generated-ca-to-your-keychain" class="table-of-contents__link toc-highlight">Step 4: Add the auto generated CA to your keychain</a></li><li><a href="#step-5-activate-drone" class="table-of-contents__link toc-highlight">Step 5: Activate Drone</a></li></ul></li><li><a href="#when-otomi-is-installed-with-optional-configuration" class="table-of-contents__link toc-highlight">When Otomi is installed with optional configuration</a><ul><li><a href="#sign-in-to-the-console" class="table-of-contents__link toc-highlight">Sign in to the console</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Otomi</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/about/">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/installation/">Installation</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/console/">Using Otomi Console</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://otomi.slack.com/join/shared_invite/zt-12h11e8aa-6po4NWhhpMXxT~nffDsYqA#/shared-invite/email" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://gitter.im/redkubes/community" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Gitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a class="footer__link-item" href="/community/get-involved">Community page</a></li></ul></div><div class="col footer__col"><div class="footer__title">Red Kubes</div><ul class="footer__items"><li class="footer__item"><a href="https://redkubes.com" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/redkubes/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/red-kubes/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/otomi-logo.svg" alt="Otomi Open Source Logo" class="themedImage_W2Cr themedImage--light_TfLj footer__logo"><img src="/img/otomi-logo.svg" alt="Otomi Open Source Logo" class="themedImage_W2Cr themedImage--dark_oUvU footer__logo"></div><div class="footer__copyright">Copyright ¬© 2022 Red Kubes. Built with <a href="https://v2.docusaurus.io/">Docusaurus</a></div></div></div></footer></div>
<script src="/assets/js/runtime~main.0992c06f.js"></script>
<script src="/assets/js/main.05622c4e.js"></script>
</body>
</html>