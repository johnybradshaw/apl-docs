"use strict";(self.webpackChunkredkubes_github_io=self.webpackChunkredkubes_github_io||[]).push([[315],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>f});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=c(n),f=a,m=p["".concat(s,".").concat(f)]||p[f]||d[f]||i;return n?r.createElement(m,o(o({ref:t},u),{},{components:n})):r.createElement(m,o({ref:t},u))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var c=2;c<i;c++)o[c]=n[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}p.displayName="MDXCreateElement"},4172:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var r=n(7462),a=(n(7294),n(3905));const i={slug:"lab-17",title:"Scan your running containers for vulnerabilities",sidebar_label:"Lab 17"},o=void 0,l={unversionedId:"for-devs/get-started/lab-17",id:"for-devs/get-started/lab-17",title:"Scan your running containers for vulnerabilities",description:"So now you know how to scan container images when pushed to Harbor. But what if you have long running versions of containers? When new vulnerabilities are identified after you scanned the image, you wil only see them when you update your image. For this scenario, Otomi offers 2 realtime container scanning tools:",source:"@site/docs/for-devs/get-started/lab-17.md",sourceDirName:"for-devs/get-started",slug:"/for-devs/get-started/lab-17",permalink:"/docs/for-devs/get-started/lab-17",draft:!1,editUrl:"https://github.com/redkubes/redkubes.github.io/tree/main/docs/for-devs/get-started/lab-17.md",tags:[],version:"current",frontMatter:{slug:"lab-17",title:"Scan your running containers for vulnerabilities",sidebar_label:"Lab 17"},sidebar:"mainSidebar",previous:{title:"Lab 16",permalink:"/docs/for-devs/get-started/lab-16"},next:{title:"Lab 18",permalink:"/docs/for-devs/get-started/lab-18"}},s={},c=[{value:"Scan running containers with Kubeclarity",id:"scan-running-containers-with-kubeclarity",level:2},{value:"See Trivy scan results",id:"see-trivy-scan-results",level:2}],u={toc:c};function d(e){let{components:t,...i}=e;return(0,a.kt)("wrapper",(0,r.Z)({},u,i,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"So now you know how to scan container images when pushed to Harbor. But what if you have long running versions of containers? When new vulnerabilities are identified after you scanned the image, you wil only see them when you update your image. For this scenario, Otomi offers 2 realtime container scanning tools:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"KubeClarity for adhoc scanning of containers"),(0,a.kt)("li",{parentName:"ul"},"Trivy Operator for automatic daily scanning of containers in all Teams")),(0,a.kt)("h2",{id:"scan-running-containers-with-kubeclarity"},"Scan running containers with Kubeclarity"),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"KubeClarity is NOT configured for multi-tenancy. This means everyone can scan any container running on the platform.")),(0,a.kt)("p",null,"In the apps section in Otomi console, you'll see an app called KubeClarity. Click on it."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"kubecfg",src:n(789).Z,width:"2438",height:"1112"})),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"In the right menu, click on ",(0,a.kt)("inlineCode",{parentName:"li"},"Runtime Scan")),(0,a.kt)("li",{parentName:"ul"},"Select your team's namespace for the scan to target"),(0,a.kt)("li",{parentName:"ul"},"Click ",(0,a.kt)("inlineCode",{parentName:"li"},"Start Scan"))),(0,a.kt)("p",null,"When the scan is completed, you'll see"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"kubecfg",src:n(1122).Z,width:"2572",height:"1286"})),(0,a.kt)("h2",{id:"see-trivy-scan-results"},"See Trivy scan results"),(0,a.kt)("p",null,"When Trivy is enabled by the platform admin and Otomi runs in multi-tenant mode, then each team will see the Trivy scan results for all containers deployed within the Team, in a Trivy dashboard in Grafana."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"In the right menu, click on ",(0,a.kt)("inlineCode",{parentName:"li"},"apps")),(0,a.kt)("li",{parentName:"ul"},"Click on ",(0,a.kt)("inlineCode",{parentName:"li"},"Grafana")),(0,a.kt)("li",{parentName:"ul"},"Open the Trivy scan results dashboard")),(0,a.kt)("p",null,"In the dashboard you can see all identified vulnerabilities per container:"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"kubecfg",src:n(751).Z,width:"2438",height:"1564"})))}d.isMDXComponent=!0},1122:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/kubeclarity-scan-results-6d1f817a2d7b84a1d8e96efda583c4b9.png"},789:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/team-app-kubeclarity-d39cc85370ad0af1830b365351097c96.png"},751:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/trivy-dashboard-e4b63434570a9e3f7834482003dfa3ca.png"}}]);