"use strict";(self.webpackChunkredkubes_github_io=self.webpackChunkredkubes_github_io||[]).push([[2122],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>d});var n=a(7294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var s=n.createContext({}),c=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},u=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,l=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),m=c(a),d=i,g=m["".concat(s,".").concat(d)]||m[d]||p[d]||l;return a?n.createElement(g,r(r({ref:t},u),{},{components:a})):n.createElement(g,r({ref:t},u))}));function d(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var l=a.length,r=new Array(l);r[0]=m;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:i,r[1]=o;for(var c=2;c<l;c++)r[c]=a[c];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},2542:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>p,frontMatter:()=>l,metadata:()=>o,toc:()=>c});var n=a(7462),i=(a(7294),a(3905));const l={slug:"digitalocean",title:"Digital Ocean",sidebar_label:"Digital Ocean"},r="Installing Otomi using the Digital Ocean marketplace",o={unversionedId:"get-started/installation/digitalocean",id:"get-started/installation/digitalocean",title:"Digital Ocean",description:"Otomi can be installed as a 1-click-app on DigitalOcean marketplace. You can find the install instructions here.",source:"@site/docs/get-started/installation/digitalocean.md",sourceDirName:"get-started/installation",slug:"/get-started/installation/digitalocean",permalink:"/docs/get-started/installation/digitalocean",draft:!1,editUrl:"https://github.com/redkubes/redkubes.github.io/tree/main/docs/get-started/installation/digitalocean.md",tags:[],version:"current",frontMatter:{slug:"digitalocean",title:"Digital Ocean",sidebar_label:"Digital Ocean"},sidebar:"mainSidebar",previous:{title:"Custom",permalink:"/docs/get-started/installation/custom"},next:{title:"Google Cloud Platform",permalink:"/docs/get-started/installation/gcp"}},s={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Create a Kubernetes cluster",id:"create-a-kubernetes-cluster",level:2},{value:"Configure DNS",id:"configure-dns",level:2},{value:"Creating a DigitalOcean DNS zone",id:"creating-a-digitalocean-dns-zone",level:3},{value:"Creating DigitalOcean Credentials",id:"creating-digitalocean-credentials",level:3},{value:"Create the values.yaml file",id:"create-the-valuesyaml-file",level:2},{value:"Install Otomi using helm",id:"install-otomi-using-helm",level:2}],u={toc:c};function p(e){let{components:t,...a}=e;return(0,i.kt)("wrapper",(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"installing-otomi-using-the-digital-ocean-marketplace"},"Installing Otomi using the Digital Ocean marketplace"),(0,i.kt)("p",null,"Otomi can be installed as a ",(0,i.kt)("a",{parentName:"p",href:"https://marketplace.digitalocean.com/apps/otomi?refcode=476bfcac9ec9&action=deploy"},"1-click-app")," on DigitalOcean marketplace. You can find the install instructions ",(0,i.kt)("a",{parentName:"p",href:"https://marketplace.digitalocean.com/apps/otomi"},"here.")),(0,i.kt)("admonition",{title:"ATTENTION",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Otomi can also be installed using the Digital Ocean  marketplace. When Otomi is installed using the Digital Ocean marketplace, Otomi is installed without DNS! To see the full potential of Otomi, install Otomi with DNS as described here.")),(0,i.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://docs.digitalocean.com/reference/doctl/how-to/install/"},"Digital Ocean CLI")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://kubernetes.io/docs/tasks/tools/"},"Helm"))),(0,i.kt)("h2",{id:"create-a-kubernetes-cluster"},"Create a Kubernetes cluster"),(0,i.kt)("p",null,"Create a Kubernetes cluster using ",(0,i.kt)("inlineCode",{parentName:"p"},"doctl"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"doctl kubernetes cluster create otomi --count 3 --region ams3 --size s-4vcpu-8gb --version 1.27.6-do.0\n")),(0,i.kt)("p",null,"Other options to create a Kubernetes cluster in Digital Ocean using:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"The ",(0,i.kt)("a",{parentName:"li",href:"https://docs.digitalocean.com/products/kubernetes/how-to/create-clusters/"},"Control Panel")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://registry.terraform.io/providers/digitalocean/digitalocean/latest/docs/resources/kubernetes_cluster"},"Terraform"))),(0,i.kt)("h2",{id:"configure-dns"},"Configure DNS"),(0,i.kt)("h3",{id:"creating-a-digitalocean-dns-zone"},"Creating a DigitalOcean DNS zone"),(0,i.kt)("p",null,"If you want to learn about how to use DigitalOcean's DNS service read the following tutorial series:"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://www.digitalocean.com/community/tutorial_series/an-introduction-to-managing-dns"},"An Introduction to Managing DNS"),", and specifically ",(0,i.kt)("a",{parentName:"p",href:"https://www.digitalocean.com/community/tutorials/how-to-set-up-a-host-name-with-digitalocean"},"How To Set Up a Host Name with DigitalOcean DNS")),(0,i.kt)("p",null,"Create a new DNS zone where you want to create your records in. Let's use ",(0,i.kt)("inlineCode",{parentName:"p"},"example.com")," as an example here."),(0,i.kt)("h3",{id:"creating-digitalocean-credentials"},"Creating DigitalOcean Credentials"),(0,i.kt)("p",null,"Generate a new personal token by going to ",(0,i.kt)("a",{parentName:"p",href:"https://cloud.digitalocean.com/settings/api/tokens"},"the API settings")," or follow ",(0,i.kt)("a",{parentName:"p",href:"https://www.digitalocean.com/community/tutorials/how-to-use-the-digitalocean-api-v2"},"How To Use the DigitalOcean API v2")," if you need more information. Give the token a name and choose read and write access."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'DO_TOKEN="<your-token>"\n')),(0,i.kt)("h2",{id:"create-the-valuesyaml-file"},"Create the values.yaml file"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"tee values.yaml<<EOF\ncluster:\n  name: otomi\n  provider: digitalocean\n  domainSuffix: example.com\notomi:\n  hasExternalDNS: true\ndns:\n  domainFilters: \n    - example.com\n  provider:\n    digitalocean:\n      apiToken: $DO_TOKEN\napps:\n  cert-manager:\n    issuer: letsencrypt\n    stage: production\n    email: admin@example.com\nEOF\n")),(0,i.kt)("p",null,"And adjust the ",(0,i.kt)("inlineCode",{parentName:"p"},"domainSuffix"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"domainFilters")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"email"),"."),(0,i.kt)("h2",{id:"install-otomi-using-helm"},"Install Otomi using helm"),(0,i.kt)("p",null,"Install Otomi using Helm:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"helm repo add otomi https://otomi.io/otomi-core\nhelm repo update\nhelm install -f values.yaml otomi otomi/otomi\n")),(0,i.kt)("p",null,"Monitor the logs of the installer job:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"kubectl logs jobs/otomi -n default -f\n")),(0,i.kt)("p",null,"When the installer is finished, copy the ",(0,i.kt)("inlineCode",{parentName:"p"},"url")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"admin-password")," from the console output."),(0,i.kt)("p",null,"Follow the activation steps ",(0,i.kt)("a",{parentName:"p",href:"https://otomi.io/docs/get-started/activation"},"here.")))}p.isMDXComponent=!0}}]);