"use strict";(self.webpackChunkredkubes_github_io=self.webpackChunkredkubes_github_io||[]).push([[1437],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>f});var a=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=a.createContext({}),c=function(e){var t=a.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},p=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=c(r),f=n,m=d["".concat(s,".").concat(f)]||d[f]||u[f]||i;return r?a.createElement(m,o(o({ref:t},p),{},{components:r})):a.createElement(m,o({ref:t},p))}));function f(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,o=new Array(i);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:n,o[1]=l;for(var c=2;c<i;c++)o[c]=r[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,r)}d.displayName="MDXCreateElement"},766:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var a=r(7462),n=(r(7294),r(3905));const i={slug:"lab-23",title:"Monitoring service availability",sidebar_label:"Monitor services"},o=void 0,l={unversionedId:"for-devs/get-started/lab-23",id:"for-devs/get-started/lab-23",title:"Monitoring service availability",description:"When your application is deployed, you would of course like to get an alert when you application (service) is not available anymore. To automatically monitor you applications for availability, Otomi automatically configures a prope to monitor your service.",source:"@site/docs/for-devs/get-started/lab-23.md",sourceDirName:"for-devs/get-started",slug:"/for-devs/get-started/lab-23",permalink:"/docs/for-devs/get-started/lab-23",draft:!1,editUrl:"https://github.com/redkubes/redkubes.github.io/tree/main/docs/for-devs/get-started/lab-23.md",tags:[],version:"current",frontMatter:{slug:"lab-23",title:"Monitoring service availability",sidebar_label:"Monitor services"},sidebar:"mainSidebar",previous:{title:"Create custom rules",permalink:"/docs/for-devs/get-started/lab-31"},next:{title:"Monitor databases",permalink:"/docs/for-devs/get-started/lab-25"}},s={},c=[{value:"Monitor your application for availability",id:"monitor-your-application-for-availability",level:2}],p={toc:c};function u(e){let{components:t,...i}=e;return(0,n.kt)("wrapper",(0,a.Z)({},p,i,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"When your application is deployed, you would of course like to get an alert when you application (service) is not available anymore. To automatically monitor you applications for availability, Otomi automatically configures a prope to monitor your service."),(0,n.kt)("h2",{id:"monitor-your-application-for-availability"},"Monitor your application for availability"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("a",{parentName:"p",href:"/docs/for-devs/get-started/lab-7"},"Create a Service")," for your app in Otomi. The service can have an Exposure ingress of type ",(0,n.kt)("inlineCode",{parentName:"p"},"Cluster")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"Ingress"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Open the Prometheus"))),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"kubecfg",src:r(8538).Z,width:"3102",height:"1728"})),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"In Prometheus, Go to ",(0,n.kt)("inlineCode",{parentName:"li"},"Status")," and click on ",(0,n.kt)("inlineCode",{parentName:"li"},"Targets"))),(0,n.kt)("p",null,"You will see the ",(0,n.kt)("inlineCode",{parentName:"p"},"prope-service-<team-name>")," endpoint. First in an ",(0,n.kt)("inlineCode",{parentName:"p"},"UNKNOWN")," state:"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"kubecfg",src:r(6428).Z,width:"2556",height:"822"})),(0,n.kt)("p",null,"But after a couple of minutes the state will be ",(0,n.kt)("inlineCode",{parentName:"p"},"UP"),":"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"kubecfg",src:r(9724).Z,width:"2552",height:"822"})),(0,n.kt)("p",null,"When alertmanager is enabled, and an alert notification receiver is configured, you will automatically receive an alert when your service is down."))}u.isMDXComponent=!0},8538:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/prometheus-teams-d55cf5f3fb1798c02972c56ac567d771.png"},6428:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/target-unknown-36fb9c3a4c3a8651c6bad7007f37b658.png"},9724:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/target-up-9d67f8ee9fca191b13804ec4ccbbc7c7.png"}}]);