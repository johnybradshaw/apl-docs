"use strict";(self.webpackChunkredkubes_github_io=self.webpackChunkredkubes_github_io||[]).push([[2370],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>m});var o=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=o.createContext({}),c=function(e){var t=o.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},u=function(e){var t=c(e.components);return o.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},p=o.forwardRef((function(e,t){var r=e.components,n=e.mdxType,a=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=c(r),m=n,g=p["".concat(s,".").concat(m)]||p[m]||d[m]||a;return r?o.createElement(g,i(i({ref:t},u),{},{components:r})):o.createElement(g,i({ref:t},u))}));function m(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=r.length,i=new Array(a);i[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:n,i[1]=l;for(var c=2;c<a;c++)i[c]=r[c];return o.createElement.apply(null,i)}return o.createElement.apply(null,r)}p.displayName="MDXCreateElement"},8181:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>l,toc:()=>c});var o=r(7462),n=(r(7294),r(3905));const a={slug:"argocd",title:"ArgoCD",sidebar_label:"ArgoCD"},i=void 0,l={unversionedId:"apps/argocd",id:"apps/argocd",title:"ArgoCD",description:"Introduction",source:"@site/docs/apps/argocd.md",sourceDirName:"apps",slug:"/apps/argocd",permalink:"/docs/apps/argocd",draft:!1,editUrl:"https://github.com/redkubes/redkubes.github.io/tree/main/docs/apps/argocd.md",tags:[],version:"current",frontMatter:{slug:"argocd",title:"ArgoCD",sidebar_label:"ArgoCD"},sidebar:"mainSidebar",previous:{title:"Alertmanager",permalink:"/docs/apps/alertmanager"},next:{title:"Cert-Manager",permalink:"/docs/apps/certmanager"}},s={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Automation",id:"automation",level:2},{value:"Integrations",id:"integrations",level:2},{value:"Instructions",id:"instructions",level:2}],u={toc:c};function d(e){let{components:t,...r}=e;return(0,n.kt)("wrapper",(0,o.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"introduction"},"Introduction"),(0,n.kt)("p",null,"ArgoCD is a declarative, GitOps continuous delivery tool for Kubernetes."),(0,n.kt)("h2",{id:"configuration"},"Configuration"),(0,n.kt)("p",null,"ArgoCD is configured by Otomi to use the SSO provided by keycloak, and maps otomi groups to ArgoCD roles. The otomi-admin role is made super admin within ArgoCD. The team-admin role has access to ArgoCD and is admin of all team projects. Members of team roles are only allowed to administer their own projects. All Teams will automatically get access to a Git repo, and ArgoCD is configured to listen to this repo. All a team has to do is to fill their repo with intended state, commit, and automation takes care of the rest."),(0,n.kt)("h2",{id:"automation"},"Automation"),(0,n.kt)("p",null,"Teams will be be automatically given a git repository in Gitea named ",(0,n.kt)("inlineCode",{parentName:"p"},"team-$teamId-argocd"),", and ArgoCD is automatically configured to access the repository and sync. All that is left to do is for a team-admin (or team member with self-service rights) to fill their repository with intended state and commit."),(0,n.kt)("h2",{id:"integrations"},"Integrations"),(0,n.kt)("p",null,"ArgoCD is configured to use the SSO provided by keycloak, and maps Otomi groups to ArgoCD roles:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Group otomi-admin is made super admin within ArgoCD."),(0,n.kt)("li",{parentName:"ul"},"Group team-admin has access to, and is admin of all team projects."),(0,n.kt)("li",{parentName:"ul"},"Team members are only allowed access to, and administer their own projects.")),(0,n.kt)("h2",{id:"instructions"},"Instructions"))}d.isMDXComponent=!0}}]);