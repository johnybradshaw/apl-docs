"use strict";(self.webpackChunkredkubes_github_io=self.webpackChunkredkubes_github_io||[]).push([[3576],{382:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>i,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>c,toc:()=>l});var n=t(5893),o=t(1151);const r={slug:"backups",title:"Platform - Backups",sidebar_label:"Backups"},a=void 0,c={id:"for-ops/console/backups",title:"Platform - Backups",description:"To enable this feature, first make sure Velero is activated.",source:"@site/docs/for-ops/console/backups.md",sourceDirName:"for-ops/console",slug:"/for-ops/console/backups",permalink:"/docs/for-ops/console/backups",draft:!1,unlisted:!1,editUrl:"https://github.com/redkubes/redkubes.github.io/tree/main/docs/for-ops/console/backups.md",tags:[],version:"current",frontMatter:{slug:"backups",title:"Platform - Backups",sidebar_label:"Backups"},sidebar:"mainSidebar",previous:{title:"Services",permalink:"/docs/for-ops/console/services"},next:{title:"Shell",permalink:"/docs/for-ops/console/shell"}},i={},l=[{value:"Create a backup",id:"create-a-backup",level:2}];function d(e){const s={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,o.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.admonition,{type:"info",children:(0,n.jsxs)(s.p,{children:["To enable this feature, first make sure ",(0,n.jsx)(s.a,{href:"/docs/apps/velero",children:"Velero"})," is activated."]})}),"\n",(0,n.jsxs)(s.p,{children:["When Velero is activated on the platform level, platform admins can create backups of Persistent Volumes (PVs) in Team namespaces using Otomi Console. When creating backups using Otomi Console, a Velero ",(0,n.jsx)(s.code,{children:"schedule"})," resource is created that will create the backup at a specified time, defined by a Cron expression."]}),"\n",(0,n.jsx)(s.p,{children:"All known Backups on the platform are listed here. Builds can be sorted based on:"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Property"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"Name"}),(0,n.jsx)(s.td,{children:"The name of the backup"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"Schedule"}),(0,n.jsx)(s.td,{children:"When the backup is scheduled to run"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"Team"}),(0,n.jsx)(s.td,{children:"The name of the Team responsible for the backup"})]})]})]}),"\n",(0,n.jsx)(s.h2,{id:"create-a-backup",children:"Create a backup"}),"\n",(0,n.jsx)(s.admonition,{type:"note",children:(0,n.jsx)(s.p,{children:"Backups of Team PVs can only be created by platform administrators"})}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:"Select the Team name in the top bar to set the context to the namespace that contains the PV to backup"}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:"Enter a name for the backup"}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:["Add the schedule of the backup. The schedule is a cron-type expression to schedule the backup. Defaults to once a day at 00:00. Create your cron-type expression ",(0,n.jsx)(s.a,{href:"https://crontab.guru/",children:"here"}),"."]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:["(optional) Select ",(0,n.jsx)(s.code,{children:"Snapshot Volumes"})," to snapshot volumes. This only applies to Persistent Volumes in Azure, GCE, and AWS."]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:"Add a label selector. Make sure your workload has the correct labels."}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:"(optional) Change the default TTL (expiration of the backup). Defaults to 7 days."}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:["Click ",(0,n.jsx)(s.code,{children:"Submit"})]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,o.a)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},1151:(e,s,t)=>{t.d(s,{Z:()=>c,a:()=>a});var n=t(7294);const o={},r=n.createContext(o);function a(e){const s=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),n.createElement(r.Provider,{value:s},e.children)}}}]);