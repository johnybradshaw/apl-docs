"use strict";(self.webpackChunkredkubes_github_io=self.webpackChunkredkubes_github_io||[]).push([[567],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=u(n),m=r,g=d["".concat(s,".").concat(m)]||d[m]||p[m]||o;return n?a.createElement(g,i(i({ref:t},c),{},{components:n})):a.createElement(g,i({ref:t},c))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var u=2;u<o;u++)i[u]=n[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},2880:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>l,toc:()=>u});var a=n(7462),r=(n(7294),n(3905));const o={slug:"part-7",title:"View container logs",sidebar_label:"Part 7"},i=void 0,l={unversionedId:"for-devs/get-started/part-7",id:"for-devs/get-started/part-7",title:"View container logs",description:"When your application is deployed, you would of course like to be able to see container logs for debugging purposes. Grafana Loki is used in Otomi for log aggregation. When Grafana Loki is enabled, you'll see the Loki app in your apps.",source:"@site/docs/for-devs/get-started/part-7.md",sourceDirName:"for-devs/get-started",slug:"/for-devs/get-started/part-7",permalink:"/docs/for-devs/get-started/part-7",draft:!1,editUrl:"https://github.com/redkubes/redkubes.github.io/tree/main/docs/for-devs/get-started/part-7.md",tags:[],version:"current",frontMatter:{slug:"part-7",title:"View container logs",sidebar_label:"Part 7"},sidebar:"mainSidebar",previous:{title:"Part 6",permalink:"/docs/for-devs/get-started/part-6"},next:{title:"Part 8",permalink:"/docs/for-devs/get-started/part-8"}},s={},u=[{value:"View container logs",id:"view-container-logs",level:2},{value:"Creating shortcuts",id:"creating-shortcuts",level:2}],c={toc:u};function p(e){let{components:t,...o}=e;return(0,r.kt)("wrapper",(0,a.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"When your application is deployed, you would of course like to be able to see container logs for debugging purposes. Grafana Loki is used in Otomi for log aggregation. When Grafana Loki is enabled, you'll see the Loki app in your apps."),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Only when Otomi is configured in multi-tenant mode, container logs of teams are split up between teams. This means you can only see the logs of your own team. If multi-tenancy is not enabled, you can see the logs of all containers running on the cluster. If you don't want other teams to see your logs, ask the administrator to enable the Otomi multi-tenancy feature."))),(0,r.kt)("h2",{id:"view-container-logs"},"View container logs"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Open the Loki app in your team apps")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"kubecfg",src:n(2661).Z,width:"2182",height:"1098"})),(0,r.kt)("p",null,"In Grafana, you are directed to the ",(0,r.kt)("inlineCode",{parentName:"p"},"Explore")," section. Otomi already added a query for you, showing the logs of all containers running in your team namespace"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"kubecfg",src:n(7511).Z,width:"2214",height:"1012"})),(0,r.kt)("p",null,"Adjust the query to your own needs. Loki uses LogQL as a query language. Learn more about LOgQL ",(0,r.kt)("a",{parentName:"p",href:"https://grafana.com/docs/loki/latest/logql/"},"here")),(0,r.kt)("h2",{id:"creating-shortcuts"},"Creating shortcuts"),(0,r.kt)("p",null,"When you created a custom query that you would like to use more often, or would like to share with the team, you can create a shortcut in Otomi."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Copy the absolute path of your query"),(0,r.kt)("li",{parentName:"ul"},"In the apps section, click on the ",(0,r.kt)("inlineCode",{parentName:"li"},"Settings")," icon of the Loki app")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"kubecfg",src:n(429).Z,width:"2548",height:"1080"})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Click on the ",(0,r.kt)("inlineCode",{parentName:"li"},"Shortcuts")," tab")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"kubecfg",src:n(7133).Z,width:"2196",height:"1060"})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Click ",(0,r.kt)("inlineCode",{parentName:"li"},"edit")),(0,r.kt)("li",{parentName:"ul"},"Fill in the ",(0,r.kt)("inlineCode",{parentName:"li"},"Title"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"Description")," and the ",(0,r.kt)("inlineCode",{parentName:"li"},"Path")," for the shortcut")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"kubecfg",src:n(5305).Z,width:"2196",height:"1170"})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Click ",(0,r.kt)("inlineCode",{parentName:"li"},"submit")," and then click ",(0,r.kt)("inlineCode",{parentName:"li"},"Deploy Changes"))),(0,r.kt)("p",null,"Now click on the Shortcuts item in the left menu. Your shortcut is now available for everyone in the team to use."))}p.isMDXComponent=!0},7511:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/grafana-loki-169cb7cb261f0a2d7aefec41d4fe266c.png"},429:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/loki-settings-9e25a45aa5afedaafd1ffa2e316a0f3c.png"},7133:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/loki-shortcuts-0cdbcfc22d8707c4f7ccd8428171a614.png"},2661:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/loki-teams-8fb9823d37ff591af4d8c0e79fa512e4.png"},5305:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/new-loki-shortcut-54b9edd773afe666dd7d00c0416a2a63.png"}}]);