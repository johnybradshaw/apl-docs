"use strict";(self.webpackChunkredkubes_github_io=self.webpackChunkredkubes_github_io||[]).push([[8052],{2569:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>c,contentTitle:()=>n,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var o=t(5893),i=t(1151);const r={slug:"policies",title:"Platform - Policies",sidebar_label:"Policies"},n=void 0,l={id:"for-ops/console/policies",title:"Platform - Policies",description:"To enable this feature, first make sure OPA/Gatekeeper is activated.",source:"@site/docs/for-ops/console/policies.md",sourceDirName:"for-ops/console",slug:"/for-ops/console/policies",permalink:"/docs/for-ops/console/policies",draft:!1,unlisted:!1,editUrl:"https://github.com/redkubes/redkubes.github.io/tree/main/docs/for-ops/console/policies.md",tags:[],version:"current",frontMatter:{slug:"policies",title:"Platform - Policies",sidebar_label:"Policies"},sidebar:"mainSidebar",previous:{title:"Shortcuts",permalink:"/docs/for-ops/console/shortcuts"},next:{title:"Teams",permalink:"/docs/for-ops/console/teams"}},c={},d=[];function a(e){const s={a:"a",admonition:"admonition",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.admonition,{type:"info",children:(0,o.jsxs)(s.p,{children:["To enable this feature, first make sure ",(0,o.jsx)(s.a,{href:"/docs/apps/gatekeeper",children:"OPA/Gatekeeper"})," is activated."]})}),"\n",(0,o.jsx)(s.p,{children:"This section allows to turn Open Policy Agent (OPA) / Gatekeeper policies on or off, and also set default parameters to be used by the policies."}),"\n",(0,o.jsxs)(s.table,{children:[(0,o.jsx)(s.thead,{children:(0,o.jsxs)(s.tr,{children:[(0,o.jsx)(s.th,{children:"Setting"}),(0,o.jsx)(s.th,{children:"Description"})]})}),(0,o.jsxs)(s.tbody,{children:[(0,o.jsxs)(s.tr,{children:[(0,o.jsx)(s.td,{children:"banned-image-tags"}),(0,o.jsx)(s.td,{children:"Add any image tags for containers that are not allowed in your cluster."})]}),(0,o.jsxs)(s.tr,{children:[(0,o.jsx)(s.td,{children:"container-limits"}),(0,o.jsx)(s.td,{children:"Set global compute limits for your containers."})]}),(0,o.jsxs)(s.tr,{children:[(0,o.jsx)(s.td,{children:"psp-allowed-repos"}),(0,o.jsx)(s.td,{children:"Add globally allowed repositories for version control."})]}),(0,o.jsxs)(s.tr,{children:[(0,o.jsx)(s.td,{children:"psp-host-filesystem"}),(0,o.jsx)(s.td,{children:"Set policies for the host filesystem of all Kubernetes cluster nodes."})]}),(0,o.jsxs)(s.tr,{children:[(0,o.jsx)(s.td,{children:"psp-allowed-users"}),(0,o.jsx)(s.td,{children:"Default user (UID) settings to force containers to run with. It is recommended to at least set 'runAsUser' to 'MustRunAsNonRoot' to disallow root."})]}),(0,o.jsxs)(s.tr,{children:[(0,o.jsx)(s.td,{children:"psp-host-security"}),(0,o.jsx)(s.td,{children:"Whether a pod is allowed to access the host PID namespace/host IPC, or if a pod defines host aliases."})]}),(0,o.jsxs)(s.tr,{children:[(0,o.jsx)(s.td,{children:"psp-host-networking-ports"}),(0,o.jsx)(s.td,{children:"Whether a pod can access ports on the host."})]}),(0,o.jsxs)(s.tr,{children:[(0,o.jsx)(s.td,{children:"psp-privileged"}),(0,o.jsx)(s.td,{children:"Whether privileged containers can escalate to root privileges on the node."})]}),(0,o.jsxs)(s.tr,{children:[(0,o.jsx)(s.td,{children:"psp-capabilities"}),(0,o.jsx)(s.td,{children:"Whether to allow containers with sufficient capabilities granted to obtain escalated access."})]}),(0,o.jsxs)(s.tr,{children:[(0,o.jsx)(s.td,{children:"psp-forbidden-sysctls"}),(0,o.jsx)(s.td,{children:"Determine what system controls are allowed or not."})]}),(0,o.jsxs)(s.tr,{children:[(0,o.jsx)(s.td,{children:"psp-apparmor"}),(0,o.jsx)(s.td,{children:"Prevents an application from accessing files it should not access."})]}),(0,o.jsxs)(s.tr,{children:[(0,o.jsx)(s.td,{children:"psp-seccomp"}),(0,o.jsx)(s.td,{children:"Reduces the chance that a kernel vulnerability will be successfully exploited."})]}),(0,o.jsxs)(s.tr,{children:[(0,o.jsx)(s.td,{children:"psp-selinux"}),(0,o.jsx)(s.td,{children:"Security-enhanced Linux."})]})]})]}),"\n",(0,o.jsxs)(s.p,{children:["Please see the ",(0,o.jsx)(s.a,{href:"https://github.com/open-policy-agent/gatekeeper-library",children:"OPA Gatekeeper policy library"})," as it is the source for the policies here. We made a selection of usable policies for Otomi and adapted them to be used by Conftest as well for static analysis of manifests generated by Otomi."]})]})}function h(e={}){const{wrapper:s}={...(0,i.a)(),...e.components};return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},1151:(e,s,t)=>{t.d(s,{Z:()=>l,a:()=>n});var o=t(7294);const i={},r=o.createContext(i);function n(e){const s=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:n(e.components),o.createElement(r.Provider,{value:s},e.children)}}}]);