"use strict";(self.webpackChunkredkubes_github_io=self.webpackChunkredkubes_github_io||[]).push([[411],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>y});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=c(n),y=a,m=d["".concat(s,".").concat(y)]||d[y]||u[y]||i;return n?r.createElement(m,o(o({ref:t},p),{},{components:n})):r.createElement(m,o({ref:t},p))}));function y(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var c=2;c<i;c++)o[c]=n[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},501:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var r=n(7462),a=(n(7294),n(3905));const i={slug:"entrypoint",title:"Install Otomi with entrypoint",sidebar_label:"EntryPoint"},o=void 0,l={unversionedId:"get-started/installation/entrypoint",id:"get-started/installation/entrypoint",title:"Install Otomi with entrypoint",description:"In some cases, the Kubernetes cluster will de deployed in a private setup where public access is only possible using an external gateway or firewall.",source:"@site/docs/get-started/installation/entrypoint.md",sourceDirName:"get-started/installation",slug:"/get-started/installation/entrypoint",permalink:"/docs/get-started/installation/entrypoint",draft:!1,editUrl:"https://github.com/redkubes/redkubes.github.io/tree/main/docs/get-started/installation/entrypoint.md",tags:[],version:"current",frontMatter:{slug:"entrypoint",title:"Install Otomi with entrypoint",sidebar_label:"EntryPoint"},sidebar:"mainSidebar",previous:{title:"KMS",permalink:"/docs/get-started/installation/kms"},next:{title:"Activation",permalink:"/docs/get-started/activation"}},s={},c=[{value:"Use case",id:"use-case",level:2}],p={toc:c};function u(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"In some cases, the Kubernetes cluster will de deployed in a private setup where public access is only possible using an external gateway or firewall."),(0,a.kt)("h2",{id:"use-case"},"Use case"),(0,a.kt)("p",null,"When Otomi is installed on a private Kubernetes cluster and services are exposed on a private load balances, we would like to create host names in Otomi and configure DNS entries to point to an external gateway."),(0,a.kt)("p",null,"For this you can use an ",(0,a.kt)("inlineCode",{parentName:"p"},"entrypoint")," in Otomi. The entrypoint is a public IP address that will override the (loadbalancer) IP used for registering hosts. This allows public access to private clusters through an external gateway."),(0,a.kt)("p",null,"To configure an entrypoint, add the following to the ",(0,a.kt)("inlineCode",{parentName:"p"},"values.yaml")," when installing Otomi:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"ingress:\n  platformClass:\n    entrypoint: <entrypoint-ip-address>\n")),(0,a.kt)("p",null,"Make sure the external gateway is configured to connect to the IP of the private load balancer used by the ",(0,a.kt)("inlineCode",{parentName:"p"},"platformClass")," ingress controller."),(0,a.kt)("p",null,"The DNS A records created by Otomi will now all point to the IP address of the external gateway."))}u.isMDXComponent=!0}}]);